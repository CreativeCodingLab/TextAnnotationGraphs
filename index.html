<html>
<head>

</head>

<body>

<div id="drawing">

</div>
 

<script src="libs/svg.js"></script>
<script src="libs/svg.draggable.js"></script>
<script src="libs/lodash.js"></script>

<script src="js/enums.js"></script>
<script src="js/style.js"></script>
<script src="js/annotate.js"></script>
<script src="js/render.js"></script>
<script src="js/interact.js"></script>
<script src="js/utils.js"></script>

<script type="text/javascript">


var debug = true;

var svgWidth = 500; //window.innerWidth - 16;
var svgHeight = 1000;


//var draw = SVG('drawing').size('100%', '100%');
var draw = SVG('drawing').size(svgWidth, svgHeight);

var styles = setupStyles(draw); //creates an associative array of whatever styles you want to make use of later

var texts = setupTexts(draw); //creates an associate array of whatever text you want to use. Currently useing 'texts.wordText' and 'texts.linkText', and using style, maxHeight, and descent to layout text

var isDragging = false;

var levelpadding = 16;
var /*textpadding */ textpaddingX = 12; //this is the x-padding within each word rect, between the text and the rectangle it's inside of
var textpaddingY = texts.wordText.maxHeight / 2; //padding above and below text, between text and rectangle it's inside of
var wordpadding = 5; //x padding between the rects containing words
var topMargin = 0;
var edgepadding = 10;


var handleW = 10;
var handleH = texts.wordText.maxHeight + (textpaddingY * 2);
var handleColor = '#ff0000';
var handleOpacity= 0.1;

var arrowH = 5; //9;
var arrowMH = 5; //7; //4
var arrowW = 3; //3

var wordHeight = texts.wordText.maxHeight + (textpaddingY * 2); 
var minWordWidth = getTextWidthAndHeight("i", texts.wordText.style).w + (handleW * 2);
//var minWordWidth = 10; //used when dragging handles to shrink or grow word size


var evenRowsColor = '#efeff4';
var oddRowsColor = '#dddddf';
var evenRowsColor_selected = '#cdcdff';
var oddRowsColor_selected = '#bbbbff';
var rowOpacity = 1.0;
var dragRectSide = 8;
var dragRectMargin = 1;

var rowOffsetX = 0;
var rowOffsetWord = null;
var dragDir = directions.NONE;
var prevX = -1;

var linkStrokeThickness = 1.5;
var linkStrokeColor = '#cc9999';
var linkStrokeOpacity = 1.0;

var linkStrokeThickness_selected = 1.5;
var linkStrokeColor_selected = '#449944';
var linkStrokeOpacity_selected = 1.0;

var attachmentMargin = 0.1; //maybe this should be a percentage? not an absolute pixel value?

var arrowColor = '#000000';
var arrowOpacity = 1.0;

var word2word_strategy = strategies.FARTHEST;
var word2link_strategy = strategies.FARTHEST; 
var link2link_strategy = strategies.FARTHEST; 

var rows = []; //list of Row object, each of those has a list of Word objects
var groupAllElements;

// 1. create Words and Links objects (in utils.js) */
var wordObjs = createTestWords(15, 1, 12);
var linkObjs = createTestLinks(5, 5, 1); 

// 2. draw words and boxes around words
drawWords(wordObjs);

// 3. draw each of the links
drawLinks(linkObjs);



</script>
</body>
</html>

